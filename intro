В арче пакеты принадлежат группам пакетов.
Мета-пакет или Группа пакетов — набор связанных пакетов, определённый мейнтейнером.
Оба подхода позволяют устанавливать и удалять набор пакетов используя название мета-пакета или группы вместо имени каждого пакета.
Не смотря на то, что группа не является пакетом, её всё равно можно установить аналогичным способом.

Весь список групп пакетов расположен тут - https://www.archlinux.org/groups/


Список всех пакетов в группе base:
pacman -Sg base


Список всех внешних пакетов (загруженные и установленные вручную):
pacman -Qm




***
Утилита expac

Cписок размеров пакетов с их зависимостями:
expac -H M '%m\t%n' | sort -h

Следующая команда выведет список всех установленных пакетов, которые не принадлежат base или base-devel:
comm -23 <(pacman -Qeq | sort) <(pacman -Qgq base base-devel | sort)

Список всех установленных пакетов, которые не зависят от других пакетов и которые не принадлежат base или base-devel:
comm -23 <(pacman -Qqt | sort) <(pacman -Sqg base base-devel | sort)

Как выше, но с описаниями:
expac -HM '%-20n\t%10d' $(comm -23 <(pacman -Qqt | sort) <(pacman -Qqg base base-devel | sort))

Список всех установленных пакетов, которые не из репозитория имя_репозитория:
comm -23 <(pacman -Qtq | sort) <(pacman -Slq имя_репозитория | sort)

Список всех установленных пакетов, которые находятся в репозитории имя_репозитория :
comm -12 <(pacman -Qtq | sort) <(pacman -Slq имя_репозитория | sort)

***

Зависимости.
Смотрим информацию о пакете
pacman -Qi пакет

Обращаем внимание на:
1. Зависит от (Dependencies) - указаны пакеты, которые устанавливаются зависимостями от целевого пакета.
2. Требуется (Required By) - указаны пакеты, при установке которых этот пакет есть в зависимостях.
